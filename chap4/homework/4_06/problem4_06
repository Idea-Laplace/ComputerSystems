Modify the Y86-64 code for the sum function to implement
a function absSum that computes the sum of absolute values
of an array. Use a conditional move instruction within your
innter loop.


// Problem 4.5 code. (My version)

absum:
	irmovq $8, %r8			# Constant 8, the quadword width
	irmovq $1, %r9			# Constant 1, index increment
	xorq %rax, %rax			# Set 0 in %rax
	jmp test
loop:
	mrmovq (%rdi), %r10		# Save the first argument
	andq %r10, %r10			# Condition code update
	jl neg
	addq %r10, %rax			# Add element
	jmp update				# Jump over the following neg block.
neg:
	subq %r10, %rax			# Substract the array element when (%rdi) is negative.
update:
	addq %r8, %rdi			# Next array element address
	subq %r9, %rsi			# Addition count update, should be positive integer.
test:
	andq %rsi, %rsi			# Not necessary line, just for the CC safety.
	jne loop				# Loop condition
	ret

